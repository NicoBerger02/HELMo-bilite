function getChauffeurLicensesForm(e){$.ajax({headers:{RequestVerificationToken:$("#RequestCsrfToken").val()},url:"GetLicensesModalForm",type:"GET",data:{chauffeurId:e},success:function(e){$("#modalPartial").html(e),$("#licensesModal").modal("show"),$("#license_chauffeur_CE").change(function(){$(this).prop("checked")&&$("#license_chauffeur_C").prop("checked",!0)}),$("#license_chauffeur_C").change(function(){$("#license_chauffeur_CE").prop("checked")&&$("#license_chauffeur_C").prop("checked",!0)})},error:function(){alert("Une erreur est survenue lors de la récupération des détails de la livraison.")}})}function showChauffeurDeliveryDetails(e,r){$.ajax({headers:{RequestVerificationToken:$("#RequestCsrfToken").val()},url:"GetChauffeurDeliveryDetails",type:"GET",data:{deliveryId:e,weekOffset:r},success:function(e){$("#modalPartial").html(e),$("#deliveryModal").modal("show")},error:function(){alert("Une erreur est survenue lors de la récupération des détails de la livraison.")}})}function getDeliverySucceededForm(e,r){$.ajax({headers:{RequestVerificationToken:$("#RequestCsrfToken").val()},url:"GetDeliverySucceededForm",type:"GET",data:{deliveryId:e,weekOffset:r},success:function(e){$("#formPartial").html(e)},error:function(){alert("Une erreur est survenue lors de la récupération du formulaire.")}})}function getDeliveryFailedForm(e,r){$.ajax({headers:{RequestVerificationToken:$("#RequestCsrfToken").val()},url:"GetDeliveryFailedForm",type:"GET",data:{deliveryId:e,weekOffset:r},success:function(e){$("#formPartial").html(e)},error:function(){alert("Une erreur est survenue lors de la récupération du formulaire.")}})}function showDeliveryDetails(e){$.ajax({headers:{RequestVerificationToken:$("#RequestCsrfToken").val()},url:"GetClientDeliveryDetails",type:"GET",data:{deliveryId:e},success:function(e){$("#modalPartial").html(e),$("#detailsModal").modal("show")},error:function(){alert("Une erreur est survenue lors de la récupération des détails de la livraison.")}})}$(document).ready(function(){$("#SearchClient").autocomplete({source:function(e,r){$.ajax({headers:{RequestVerificationToken:$("#RequestCsrfToken").val()},datatype:"json",url:"SearchClientEnterprise",data:{searchEnterprise:e.term},success:function(e){r(e)}})}}),$("#SearchChauffeur").autocomplete({source:function(e,r){$.ajax({headers:{RequestVerificationToken:$("#RequestCsrfToken").val()},datatype:"json",url:"SearchChauffeurName",data:{searchName:e.term},success:function(e){r(e)}})}}),$("#DeleteClient").click(function(){$("#SearchClient").val("")}),$("#DeleteChauffeur").click(function(){$("#SearchChauffeur").val("")}),$("#DeleteDate").click(function(){$("#SearchDate").val("")}),$("#Search").click(function(){var e=$("#SearchClient").val(),r=$("#SearchChauffeur").val(),a=$("#SearchDate").val(),e="Statistics?filterClient="+encodeURIComponent(e)+"&filterChauffeur="+encodeURIComponent(r)+"&filterDate="+encodeURIComponent(a);window.location.href=e})}),$(document).ready(function(){console.log("Changement"),$("#trucksList").prop("disabled",!0),$("#chauffeursList").change(function(){var e=$(this).val(),r=$("#DeliveryId").val();""===e?($("#trucksList").prop("disabled",!0),$("#trucksList").empty()):$.ajax({headers:{RequestVerificationToken:$("#RequestCsrfToken").val()},url:"GetAvailableTrucksForSelectedChauffeur",type:"GET",data:{chauffeurId:e,deliveryId:r},success:function(e){$("#trucksList").empty().append($("<option>").val("").text("-- Sélectionnez un camion --")),$.each(e,function(e,r){$("#trucksList").append($("<option>").val(r.id).text(r.displayName))}),$("#trucksList").prop("disabled",!1)},error:function(){alert("Une erreur est survenue lors de la récupération des camions disponibles.")}})})}),$(document).ready(function(){$(".clickable").click(function(){showChauffeurDeliveryDetails($(this).data("id"),$(this).data("weekoffset"))})});